---
layout: page_content
title: 搜索
permalink: /search
---


<style>
    #search-input {
        display: none;
    }

    #search-demo-container {
        text-align: justify;
    }

    #search-tittle {
        margin-top: 50px;
    }

    .common-title::before {
        position: inherit;
        padding: 0 10px 0 10px;
        content: '#';
        color: #eb5055;
    }

    .common-title {
        font-size: 25px;
        color: #5f5f5f;
    }
</style>

<div id="search-tittle" class="common-title">
    Search : ---
</div>

<div id="search-demo-container">
    <input type="search" id="search-input" placeholder="search..." value="h">
    <ul id="results-container"></ul>
</div>

<script src="/style/js/simple-jekyll-search.min.js"></script>


<script>
    window.simpleJekyllSearch = new SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: '/search.json',
        searchResultTemplate: '<li><a href="{url}?query={query}" title="{desc}" target="_blank">{title}</a></li>',
        noResultsText: '没有找到内容,请换别的关键字进行检索',
        limit: 10,
        fuzzy: false,
        exclude: ['Welcome']
    })
    console.log(document.getElementById('search-input'));
</script>


<script>
    function GetQueryString(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
        var r = window.location.search.substr(1).match(reg); //获取url中"?"符后的字符串并正则匹配
        var context = "";
        if (r != null)
            context = r[2];
        reg = null;
        r = null;
        return context == null || context == "" || context == "undefined" ? "" : context;
    }


    //将URL中的UTF-8字符串转成中文字符串
    function getCharFromUtf8(str) {
        var cstr = "";
        var nOffset = 0;
        if (str == "")
            return "";
        str = str.toLowerCase();
        nOffset = str.indexOf("%e");
        if (nOffset == -1)
            return str;
        while (nOffset != -1) {
            cstr += str.substr(0, nOffset);
            str = str.substr(nOffset, str.length - nOffset);
            if (str == "" || str.length < 9)
                return cstr;
            cstr += utf8ToChar(str.substr(0, 9));
            str = str.substr(9, str.length - 9);
            nOffset = str.indexOf("%e");
        }
        return cstr + str;
    }

    //将编码转换成字符
    function utf8ToChar(str) {
        var iCode, iCode1, iCode2;
        iCode = parseInt("0x" + str.substr(1, 2));
        iCode1 = parseInt("0x" + str.substr(4, 2));
        iCode2 = parseInt("0x" + str.substr(7, 2));
        return String.fromCharCode(((iCode & 0x0F) << 12) | ((iCode1 & 0x3F) << 6) | (iCode2 & 0x3F));
    }





    function saerch_change() {
        var input = document.getElementById("search-input");
        input.value = getCharFromUtf8(GetQueryString("keyword"));
        var evt = document.createEvent('HTMLEvents');
        evt.initEvent('input', true, true);
        input.dispatchEvent(evt);
        document.getElementById("search-tittle").innerHTML = "Search :" + "&nbsp;&nbsp;" + getCharFromUtf8(GetQueryString("keyword"));
    }
    const id = setInterval(saerch_change, 10);
    setTimeout(() => {
        clearInterval(id);
        console.log('我结束定时器了！')
    }, 1500);
    setInterval(saerch_change, 500);
</script>